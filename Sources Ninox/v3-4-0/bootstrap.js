{ "id": "mny0nkfdt8sa", "name": "Fonctions étendues", "dbname": "Fonctions étendues", "seq": 6241, "schema": { "seq": 6241, "version": 999, "nextTypeId": 19, "types": { "A": { "nextFieldId": 14, "caption": "Fonctions", "captions": { }, "hidden": false, "fields": { "A": { "base": "string", "caption": "Fonction", "captions": { }, "required": false, "order": 0, "width": 1, "formWidth": 0.1875, "uuid": "p8SEteeTNs3tHKNH", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "B": { "base": "string", "caption": "Syntaxe", "captions": { }, "required": false, "order": 3, "formWidth": 0.5, "uuid": "bSO5HY5hq4Ar1Gd8", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "C": { "base": "string", "caption": "Paramètres", "captions": { }, "required": false, "order": 4, "formWidth": 1, "uuid": "nXd9FkBxc2FnhPYp", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": true, "height": 4 }, "D": { "base": "html", "caption": "Exemples", "captions": { }, "required": false, "order": 5, "formWidth": 1, "uuid": "nRgHFB2cf72OV8wa", "globalSearch": true, "hasIndex": false, "tooltips": { }, "height": 11 }, "E": { "base": "html", "caption": "Description", "captions": { }, "required": false, "order": 2, "formWidth": 1, "uuid": "zQmhdrb2cml9JpOX", "globalSearch": true, "hasIndex": false, "tooltips": { }, "height": 5 }, "F": { "base": "rev", "caption": "Tableau de bord", "captions": { }, "refTypeId": "B", "refFieldId": "R1", "order": 6, "viewConfig": { "mode": "table" }, "uuid": "S9SLV8XnY8XVodA1", "visibility": "false", "height": 6, "formWidth": 1, "reverseRenderer": "table", "tooltips": { } }, "H": { "base": "rev", "caption": "exComboBox", "captions": { }, "refTypeId": "F", "refFieldId": "B", "order": 7, "viewConfig": { "mode": "table" }, "uuid": "W6gtHrhGuvsjDTnI", "visibility": "false", "height": 6, "formWidth": 1, "reverseRenderer": "table", "tooltips": { } }, "K": { "base": "dmulti", "caption": "Créer par", "captions": { }, "required": false, "order": 1, "width": 1, "formWidth": 0.09375, "uuid": "GENca7TOkA1fWSgb", "globalSearch": true, "hasIndex": false, "tooltips": { }, "choiceRenderer": "combo", "dchoiceValues": "(select G)", "dchoiceCaption": "A", "dchoiceColor": "B" } }, "uis": { }, "uuid": "YqwusKs5IQ01Rl2F", "globalSearch": true, "order": 1 }, "B": { "nextFieldId": 58, "caption": "Essais JavaScript", "captions": { }, "hidden": false, "fields": { "E": { "base": "string", "caption": "Message", "captions": { }, "required": false, "order": 27, "formWidth": 0.5, "uuid": "H5Nwrnac7kGU2n5q", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "I": { "base": "number", "caption": "Valeur A", "captions": { }, "required": false, "order": 20, "formWidth": 0.25, "uuid": "uDKPZgqaONzWcbGj", "globalSearch": true, "hasIndex": false, "tooltips": { } }, "J": { "base": "number", "caption": "Valeur B", "captions": { }, "required": false, "order": 19, "formWidth": 0.25, "uuid": "X3urcbgINjvKEQNO", "globalSearch": true, "hasIndex": false, "tooltips": { } }, "L": { "base": "number", "caption": "A + B", "captions": { }, "required": false, "order": 17, "formWidth": 0.25, "uuid": "VI4nalhOL6kUd0zY", "globalSearch": true, "hasIndex": false, "tooltips": { } }, "W": { "base": "string", "caption": "code JavaScript", "captions": { }, "required": false, "order": 5, "width": 4, "formWidth": 1, "uuid": "pw0qm1dUs6emd6rW", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": true, "height": 6 }, "H1": { "base": "string", "caption": "Resultat retourné par return", "captions": { }, "required": false, "order": 6, "formWidth": 1, "uuid": "w7fCztD1y4TSRLe6", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": true, "height": 2 }, "L1": { "base": "string", "caption": "Arguments d appel de la fonction (au format Ninox script)", "captions": { }, "required": false, "order": 3, "formWidth": 1, "uuid": "p6yQ5YMK3MIaoeBi", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": true, "height": 4 }, "P1": { "base": "string", "caption": "Description", "captions": { }, "required": false, "order": 2, "formWidth": 1, "uuid": "UvSNbB7FGFNIn3A5", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": true, "height": 2 }, "R1": { "base": "ref", "caption": "Fonctions", "captions": { }, "required": false, "refTypeId": "A", "refFieldId": "F", "cascade": false, "order": 31, "viewConfig": { "mode": "table" }, "uuid": "K2pLrDeb8jUoMyHj", "formWidth": 1, "referenceRenderer": "popup", "tooltips": { } }, "S1": { "base": "fn", "caption": "Formule", "captions": { }, "required": false, "order": 9, "formWidth": 0.25, "uuid": "Bz0HK5GgewpvNNDc", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "html(---<button onclick=\"alert('on a touché à mon  bouton à moi')\">Mon bouton</button>---)", "height": 1 }, "T1": { "base": "dchoice", "caption": "select Fonctions", "captions": { }, "required": false, "order": 30, "formWidth": 0.25, "uuid": "Na3fOdCDLy39cFqv", "globalSearch": true, "hasIndex": false, "tooltips": { }, "choiceRenderer": "combo", "dchoiceValues": "(select A)", "dchoiceCaption": "E" }, "Y1": { "base": "fn", "caption": "Formule 3", "captions": { }, "required": false, "order": 10, "formWidth": 0.25, "uuid": "nMG7oOalYoU2K4Fz", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "(var onSelect := \"function onSelect(exComboBoxValue:text) do \n\talert(exComboBoxValue);\nend;\"; html(eval(\"exComboBox\",{record:this,fieldName:\"Formule\",list:[\"a\", \"b\", \"c\"],selected:\"b\",onSelect:onSelect})))", "height": 1 }, "Z1": { "base": "dmulti", "caption": "Crée par", "captions": { }, "required": false, "order": 1, "width": 1, "formWidth": 0.15625, "uuid": "eU8tZgga9rKlIFiV", "globalSearch": true, "hasIndex": false, "tooltips": { }, "choiceRenderer": "combo", "dchoiceValues": "(select G)", "dchoiceCaption": "A", "dchoiceColor": "B" }, "B2": { "base": "dchoice", "caption": "DynamicChoice", "captions": { }, "required": false, "order": 12, "width": 1, "formWidth": 0.1875, "uuid": "tl2cXtGvYVlxx1QK", "globalSearch": true, "hasIndex": false, "tooltips": { }, "choiceRenderer": "combo", "dchoiceValues": "(select A)", "dchoiceCaption": "(((A+\"(id:\")+_id)+\")\")" }, "C2": { "base": "dmulti", "caption": "DynamicMultipleChoice", "captions": { }, "required": false, "order": 13, "width": 3, "formWidth": 0.625, "uuid": "N3bQxZDiUSw574oZ", "globalSearch": true, "hasIndex": false, "tooltips": { }, "choiceRenderer": "combo", "dchoiceValues": "(select A)", "dchoiceCaption": "((((A+\" (id:\")+_id)+\")\"))" }, "E2": { "base": "fn", "caption": "Formule 2", "captions": { }, "required": false, "order": 14, "width": 1, "formWidth": 0.125, "uuid": "PzwVaB8P1I6cbeLs", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "string(C2)", "height": 1 } }, "uis": { "B": { "base": "button", "order": 26, "caption": "Mon bouton", "captions": { }, "uuid": "FXCmhplJVT7kjODd", "formWidth": 0.25, "fn": "alert(\"bonjour les lapins rouge\") ", "buttonColor": "red" }, "C": { "base": "button", "order": 18, "caption": "exPlus >>", "captions": { }, "uuid": "bRrVjGuxDFQHw2Sw", "formWidth": 0.25, "fn": "(L := eval(\"exPlus\",{A:I,B:J}))", "buttonColor": "blue" }, "D": { "base": "button", "order": 22, "caption": "exReverse", "captions": { }, "uuid": "F8IYfxt70YGp6zoU", "formWidth": 0.25, "fn": "(var croissant := ((select A) order by A); (var decroissant := eval(\"exReverse\",{nids:croissant}); alert((((\"ordre croissant \"+debugValueInfo(croissant))+\", ordre inverse \")+debugValueInfo(decroissant)))))", "buttonColor": "blue" }, "F": { "base": "br", "order": 28, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "ckuWFWPZGCvYCEgt", "formWidth": 1 }, "G": { "base": "br", "order": 16, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "pyDIoRTER9Sj6C6P", "formWidth": 1 }, "H": { "base": "br", "order": 21, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "HIDXnpvrh1sLX3Nz", "formWidth": 1 }, "U": { "base": "br", "order": 23, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "JEoBq2r3SUmlHQrx", "formWidth": 1 }, "Y": { "base": "button", "order": 4, "caption": "run exJavaScript", "captions": { }, "uuid": "tFcDP6Wl6CONcKPd", "formWidth": 0.25, "fn": "(\"*** ici la fonction eval est utilisée en mode standard pour évaluer les paramètres JSON du champs 'Arguments d appel de la fonction (au format Ninox script)'\";\"\tet en mode étendu pour éxecuter la fonction exJavaScrip avec comme paramètre :\";\"\t- code : contien le code JavaScript à executer\";\"\t- args : paramètres sous forme JSON passé au code sous forme : function exJavascript( args ){code}. arg peut continuer lui même plusieurs arguments\";\"   la fonction renvois le valeur du return executé dans le code et le met dans le champ 'Resultat retourné par return' \";(H1 := eval(\"exJavaScript\",{code:W,args:eval(L1,this)})))", "buttonColor": "blue" }, "Z": { "base": "button", "order": 25, "caption": "exListFile", "captions": { }, "uuid": "wHdeUGySiebx4ik5", "formWidth": 0.25, "fn": "alert(eval(\"exFilesList\",this))", "buttonColor": "blue" }, "A1": { "base": "br", "order": 7, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "Pypos8fsVOuGHvGB", "formWidth": 1 }, "B1": { "base": "button", "order": 24, "caption": "standard list files", "captions": { }, "uuid": "vLxcEaz36BzXi5NR", "formWidth": 0.25, "fn": "alert(files(this))", "buttonColor": "blue" }, "G1": { "base": "tab", "order": 0, "caption": "JavaScript", "captions": { }, "uuid": "w79ATTAcJzWikec8", "formWidth": 1, "bgColor": "#FFEFBF" }, "J1": { "base": "tab", "order": 29, "caption": "Onglet", "captions": { }, "uuid": "qy3F1v8H4OOx5eJi", "formWidth": 1 }, "Q1": { "base": "button", "order": 8, "caption": "Mon bouton", "captions": { }, "uuid": "ltOP3nnA5x8iv5EJ", "formWidth": 0.25, "fn": "alert(\"bonjour les lapins blue\")", "buttonColor": "blue" }, "V1": { "base": "tab", "order": 15, "caption": "Essais divers", "captions": { }, "uuid": "U3Nuq1MSPJdOAHgC", "formWidth": 1 }, "D2": { "base": "br", "order": 11, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "UP1KbB4AANpiD0PO", "formWidth": 1 } }, "uuid": "WsnjwpLeS6Q3BB06", "globalSearch": true, "order": 0 }, "D": { "nextFieldId": 27, "caption": "Initialisation", "captions": { }, "hidden": false, "fields": { "A": { "base": "fn", "caption": "Code d'initialisation des fonctions étendues", "captions": { }, "required": false, "order": 1, "formWidth": 0.25, "uuid": "zfk4oNnYdy7OSWT9", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "(var strInit := \"\"; ((switch R do case 1: (strInit := ((\"<p>Init Script+</p> <script> \"+F)+\" </script>\")) case 0: (strInit := ((\"<script>var sScriptURL ='\"+Q)+\"';var oReq = new XMLHttpRequest();oReq.addEventListener('load', function fLoad() {eval(this.responseText + '\\r\\n//# sourceURL=' + sScriptURL)}); oReq.open('GET', sScriptURL); oReq.send(); false;</script>\")) case 2: (strInit := \"<b>\n    <div id='myInit'>Initialisation en cours...</div>\n</b>\n<script>\n    //Fonction de chargement du code depuis une adresse http\n    function LoadScript(Address, Script) {\n\n        var adrScript = Address + '/' + Script\n        var oReq = new XMLHttpRequest();\n\n        //Evénement appelé après le chargement\n        oReq.addEventListener('load', function fLoad() {\n\n            try {\n                console.log('Chargement de ' + adrScript)\n\n                //Création d'une fonction à partir du scrip \n                var fn = Function('rootAddress', this.responseText);\n\n                //Exécution de la fonction (éxécution du script chargé) \n                fn(Address);\n\n                //Mise à jour de l'affichage pour indiquer que le chargement est fini et le numéro de version du code\n                console.log(adrScript + ' chargé');\n                document.getElementById('myInit').innerText = exRevision;\n                debugger;\n\n                //Vérifie si une autre fenêtre popup n'était pas déjà préchargée lors de l'appel à Ninox \n                if (widgets.popupEditorStack.length > 0)\n                    //Si c'est le cas, alors fermeture de la fenêtre d'initialisation pour laisser apparaitre la fenêtre en dessous\n                    ui.closeRecord();\n                else\n                    //Dans le cas contraire, refaire la même vérification 2 secondes plus tard pour laisser le temps à Ninox de se charger.\n                    setTimeout(function () {\n                        if (widgets.popupEditorStack.length > 0) ui.closeRecord();\n                    }, 2000);\n            } catch (err) {\n                // Affichage dans la console des évantuelles erreurs de code survenue lors de l'éxécution de la fonciton fn\n                var msgErr = err.message + ' à la ligne ' + err.line + ', colonne ' + err.column;\n                console.log(' erreur au chargement de ' + Script + ' : ' + err);\n            }\n        });\n\n        //Appel du chargement \n        oReq.open('GET', adrScript); oReq.send(); false;\n    }\n\n    //Indiquer ici l'adresse du code source\n    var rootAddress = 'https://raw.githubusercontent.com/JacquesTur/exFunctionsNinox/master/';\n\n    //Lancer le chargement du code source\n    LoadScript(rootAddress, 'exFonctions.js');\n</script>\") case 3: (strInit := ((\"<p>Init Local</p> <script src='\"+S)+\"'></script>\")) end);(if not isAdminMode() then html(strInit) else alert(\"Sortir du mode Admin pour initialiser les fonctions étendue\"))))", "height": 3 }, "F": { "base": "string", "caption": "Script", "captions": { }, "required": false, "order": 8, "formWidth": 1, "uuid": "N0zzZisdFVhIgc4V", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": true, "height": 15 }, "M": { "base": "user", "caption": "Utilisateur", "captions": { }, "required": false, "order": 4, "formWidth": 0.25, "uuid": "Z2dlJbhLDvqvV9w0", "globalSearch": true, "hasIndex": false, "tooltips": { }, "choiceRenderer": "combo" }, "N": { "base": "color", "caption": "Couleur", "captions": { }, "required": false, "order": 3, "formWidth": 0.25, "uuid": "Yv393cacwLeBVo0L", "globalSearch": true, "hasIndex": false, "tooltips": { } }, "Q": { "base": "link", "caption": "URL", "captions": { }, "required": false, "order": 9, "formWidth": 1, "uuid": "XWjzJ7eG8QH8tAw3", "globalSearch": true, "hasIndex": false, "tooltips": { }, "linkPreview": false }, "R": { "base": "choice", "caption": "Init depuis", "captions": { }, "required": false, "order": 0, "formWidth": 0.25, "uuid": "F2Ph11MuywTI4JQS", "globalSearch": true, "hasIndex": false, "tooltips": { }, "nextChoiceId": 4, "values": { "1": { "caption": "Script", "captions": { }, "icon": "pencil", "order": 0 }, "2": { "caption": "URL", "captions": { }, "icon": "location", "order": 1 }, "3": { "caption": "Local", "captions": { }, "icon": "home", "order": 2 } }, "choiceRenderer": "switch" }, "S": { "base": "link", "caption": "Local", "captions": { }, "required": false, "order": 10, "formWidth": 1, "uuid": "qkecb4I4aGlIqxvb", "globalSearch": true, "hasIndex": false, "tooltips": { }, "linkPreview": false }, "V": { "base": "string", "caption": "Texte (multiligne)", "captions": { }, "required": false, "order": 14, "formWidth": 1, "uuid": "w1B5DcCVM9D2SYWw", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": true, "height": 4 }, "W": { "base": "string", "caption": "StrURL", "captions": { }, "required": false, "order": 11, "formWidth": 1, "uuid": "g6kFR76aVfGYuzzd", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": true, "height": 4 }, "Z": { "base": "fn", "caption": "Formule", "captions": { }, "required": false, "order": 15, "formWidth": 0.25, "uuid": "UDnNGeT6Xy4LN3mK", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "html(\"\n\t<script src=''https://raw.githubusercontent.com/JacquesTur/exFunctionsNinox/master/Jacques/TestMain.js' type='module'>\n\nalert('après');\n\t</script>\")", "height": 1 } }, "uis": { "B": { "base": "button", "order": 7, "caption": "Fermer", "captions": { }, "uuid": "YlO3whpAle5e29Sq", "formWidth": 0.25, "fn": "closeRecord()", "buttonColor": "blue" }, "C": { "base": "br", "order": 5, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "Gqcf0xUbu9STlHIm", "formWidth": 1 }, "T": { "base": "br", "order": 2, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "QkTUgQAxn3ueDQ8L", "formWidth": 1 }, "U": { "base": "tab", "order": 13, "caption": "Onglet", "captions": { }, "uuid": "LjmE4evvfOqZ98iP", "formWidth": 1 }, "X": { "base": "button", "order": 12, "caption": "Bouton", "captions": { }, "uuid": "AT6fHwx3Ev9ks0D8", "formWidth": 0.25, "fn": "(var strInit := \"\"; ((switch R do case 1: (strInit := ((\"<p>Init Script+</p> <script>\"+F)+\"</script>\")) case 2: (strInit := ((\"<p>Init URL</p> <script src='\"+Q)+\"'></script>\")) case 3: (strInit := ((\"<p>Init Local</p> <script src='\"+S)+\"'></script>\")) end);(W := strInit)))", "buttonColor": "blue" }, "Y": { "base": "button", "order": 6, "caption": "Version", "captions": { }, "uuid": "PfYtcsIGQsuV7WzQ", "formWidth": 0.25, "fn": "(alert(eval(\"exGetVersion\",{})))", "buttonColor": "blue" } }, "uuid": "iWgHbg3i00D1677T", "globalSearch": true, "order": 3 }, "E": { "nextFieldId": 25, "caption": "exFiles", "captions": { }, "hidden": false, "fields": { "A": { "base": "fn", "caption": "Liste des fichiers", "captions": { }, "required": false, "order": 3, "formWidth": 0.25, "uuid": "GtCd3fnyN342aODg", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "((function onSelect(label : text,value : text) do ((B := value);(N := file(this,B))) end);html(eval(\"exComboBox\",{record:this,list:eval(\"exFilesList\",this),selected:B})))", "height": 1, "onClick": "((function onSelect(label : text,value : text) do ((B := value);(N := file(this,B))) end))" }, "B": { "base": "string", "caption": "Nom de fichier", "captions": { }, "required": false, "order": 2, "formWidth": 0.5, "uuid": "B1IBeiTuIcHvLPs1", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "F": { "base": "fn", "caption": "<img>", "captions": { }, "required": false, "order": 13, "width": 2, "formWidth": 0.46875, "uuid": "QBMwVPZNzsfuGoxW", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "html(((\"<img src='\"+eval(\"exShareFile\",{record:this,fileName:B}))+\"'  style='vertical-align:middle; display: block;\n  margin-left: auto;\n  margin-right: auto; \n\twidth:100%;\n\theight:100%;\n  \tobject-fit: scale-down;  '\n\n\t  >  </img> \"))", "height": 32 }, "J": { "base": "fn", "caption": "<iframe>", "captions": { }, "required": false, "order": 14, "width": 2, "formWidth": 0.53125, "uuid": "NfzQAi8dIzVSYdJr", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "html(((\"<iframe id='myPDFFrame' src='\"+eval(\"exShareFile\",{record:this,fileName:B}))+\"' width='100%' height='100%'></iframe>\"))", "height": 32 }, "M": { "base": "fn", "caption": "formule : eval(\"exShareFile\", { \trecord: this, \tfileName: 'Nom de fichier' })", "captions": { }, "required": false, "order": 9, "width": 4, "formWidth": 1, "uuid": "tkNK8BpQnYpoyW2U", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "eval(\"exShareFile\",{record:this,fileName:B})", "height": 1 }, "N": { "base": "file", "caption": "Image Ninox", "captions": { }, "required": false, "order": 10, "width": 2, "formWidth": 0.5, "uuid": "rL7LcRZb8XkkQBxz", "globalSearch": true, "hasIndex": false, "tooltips": { }, "height": 9, "fileHandling": "any", "bgSize": "contain" }, "O": { "base": "fn", "caption": "formule : file(this, 'Nom de fichier')", "captions": { }, "required": false, "order": 11, "width": 2, "formWidth": 0.5, "uuid": "NQ0eNoQ0u8hlmUxS", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "(file(this,B))", "height": 27 }, "Q": { "base": "string", "caption": "Texte", "captions": { }, "required": false, "order": 16, "formWidth": 0.5, "uuid": "icDWmPxU9TE6YF8q", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "S": { "base": "string", "caption": "Texte 3", "captions": { }, "required": false, "order": 15, "formWidth": 0.5, "uuid": "Xqw04Wykt93lW3Xw", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "T": { "base": "icon", "caption": "Icône", "captions": { }, "required": false, "order": 0, "formWidth": 0.25, "uuid": "pPJRBedQepvlEV22", "globalSearch": true, "hasIndex": false, "tooltips": { } }, "U": { "base": "fn", "caption": "Formule", "captions": { }, "required": false, "order": 1, "formWidth": 0.25, "uuid": "TeuRkBAEcJh7jNRO", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "T", "height": 1 }, "W": { "base": "file", "caption": "Contract", "captions": { }, "required": false, "order": 17, "formWidth": 0.5, "uuid": "ZF6IPdo8CeGw92TJ", "globalSearch": true, "hasIndex": false, "tooltips": { }, "height": 3, "fileHandling": "any", "bgSize": "contain" } }, "uis": { "E": { "base": "button", "order": 6, "caption": "Renommer", "captions": { }, "uuid": "q26Z1q1J8XNXegi9", "width": 1, "formWidth": 0.25, "fn": "(var p := eval(\"exPrompt\",{caption:\"Nouveau nom de fichier : \",defaultValue:B}); (if p.ok then (if eval(\"exRenameFile\",{record:this,oldFileName:B,newFileName:p.value}) then ((B := p.value);(N := file(this,B))) end) end))", "buttonColor": "blue" }, "G": { "base": "button", "order": 5, "caption": "Télécharger", "captions": { }, "uuid": "xuuwzbMJQSoE9eKm", "formWidth": 0.25, "fn": "eval(\"exDownloadFile\",{record:this,fileName:B,desFileName:(\"download\"+B)})", "buttonColor": "blue" }, "H": { "base": "br", "order": 8, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "WAYr4DEz2dJS8OEj", "formWidth": 1 }, "I": { "base": "br", "order": 4, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "vnlwXNVNSJYRFVDm", "formWidth": 1 }, "V": { "base": "br", "order": 12, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "iDFV0qnhBnljB8lE", "formWidth": 1 }, "X": { "base": "button", "order": 7, "caption": "Imprimer", "captions": { }, "uuid": "TZiHDpqrjfUPUwdb", "formWidth": 0.25, "fn": "eval(\"exJavaScript\",{code:\"\n\t\tdebugger;\n\t\tvar iframe = document.getElementById('myPDFFrame');\n\t\talert(iframe.id);\n\tif (iframe) {\n        \tiframe.contentWindow.print();\n\t\t\talert('print');\n\t\t}\n\t\telse alert('iFrame introuvable');\n\t\t\t\"})", "buttonColor": "blue" } }, "uuid": "UAmVFowhhGsmG39q", "globalSearch": true, "order": 7 }, "F": { "nextFieldId": 10, "caption": "exComboBox", "captions": { }, "hidden": false, "fields": { "A": { "base": "fn", "caption": "Liste des fonctions", "captions": { }, "required": false, "order": 5, "formWidth": 0.25, "uuid": "AWrozwLmTUfJbN1T", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "((function onSelect(label : text,value : text) do ((B := first((select A where (_id = value))));\"alert(value)\") end);(var lesFonctions := [{}]; ((for i in (select A) do (lesFonctions := array(lesFonctions,[{label:i.A,value:i._id}])) end);html(eval(\"exComboBox\",{record:this,list:lesFonctions,selected:(B._id)})))))", "height": 1 }, "B": { "base": "ref", "caption": "Lien vers la fonctions", "captions": { }, "required": false, "refTypeId": "A", "refFieldId": "H", "cascade": false, "order": 6, "viewConfig": { "mode": "table", "cols": [{ "expression": "_id" }, { "expression": "A" }], "sort": 0, "type": "A" }, "uuid": "C119Y7YBkL0vLpee", "formWidth": 1, "referenceRenderer": "embed", "tooltips": { } }, "D": { "base": "fn", "caption": "Fruits (label uniquement)", "captions": { }, "required": false, "order": 1, "formWidth": 0.25, "uuid": "GCaVaLNKItJpqVvJ", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "((function onSelect(label : text,value : text) do alert((\"label : \"+label)) end);html(eval(\"exComboBox\",{record:this,list:[\"Banane\", \"Poire\", \"Chocolat \"],selected:\"Poire\"})))", "height": 1 }, "E": { "base": "fn", "caption": "Calculs (label et valeur)", "captions": { }, "required": false, "order": 2, "formWidth": 0.25, "uuid": "oEDBp0Ios09EvbXh", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "(\" évenement qui est exécuté à chaque fois que l'utilisateur selectionne une ligne du ComboBox \";(function onSelect(label : text,value : text) do (I := value) end);\"\tgénération du code HTML du ComboBox à partir des élements contenu dans le paramètre list.\";\"   le paramètre record indique l'enregistrement en cours.\";\"  \tselected précise la ligne séledctionnée par défaut à l'initialisation du ComboBox\";html(eval(\"exComboBox\",{record:this,list:[{label:\"2x3\",value:6}, {label:\"4x4\",value:16}, {label:\"6x5\",value:30}],selected:I})))", "height": 1 }, "I": { "base": "string", "caption": "Resultat", "captions": { }, "required": false, "order": 3, "width": 1, "formWidth": 0.15625, "uuid": "k0nHZ8PqEE8TMhFY", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 } }, "uis": { "C": { "base": "text", "order": 4, "caption": "ComboBox base sur la table Fonctions.", "captions": { }, "uuid": "OuilPyhoCFcNHs6w", "formWidth": 1, "style": "{\"color\":\"#FFFFFF\",\"backgroundColor\":\"#6691FF\",\"fontSize\":\"1em\",\"textAlign\":\"left\",\"borderStyle\":\"none\",\"borderWidth\":\"thick\",\"borderColor\":\"#000\",\"borderSides\":\"f\"}" }, "G": { "base": "text", "order": 0, "caption": "ComboBox basé sur des tableaux fixes.", "captions": { }, "uuid": "fLnPauZ8JL461YwV", "formWidth": 1, "style": "{\"color\":\"#FFFFFF\",\"backgroundColor\":\"#6691FF\",\"fontSize\":\"1em\",\"textAlign\":\"left\",\"borderStyle\":\"none\",\"borderWidth\":\"thin\",\"borderColor\":\"#000\",\"borderSides\":\"f\"}" } }, "uuid": "ImUN1TFbgE4vrhpn", "globalSearch": true, "order": 6 }, "G": { "nextFieldId": 4, "caption": "Développeurs", "captions": { }, "hidden": false, "fields": { "A": { "base": "string", "caption": "Développeur", "captions": { }, "required": false, "order": 0, "width": 1, "formWidth": 0.09375, "uuid": "wBK2JO10lpY57BVS", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "B": { "base": "color", "caption": "Couleur", "captions": { }, "required": false, "order": 1, "width": 1, "formWidth": 0.09375, "uuid": "VMEQYWW2duZz2QwR", "globalSearch": true, "hasIndex": false, "tooltips": { } }, "C": { "base": "icon", "caption": "Icône", "captions": { }, "required": false, "order": 2, "width": 1, "formWidth": 0.09375, "uuid": "oYd0KrA7hzwBqM9H", "globalSearch": true, "hasIndex": false, "tooltips": { } } }, "uis": { }, "uuid": "Dm1nS0N45vXMrFzt", "globalSearch": true, "order": 2 }, "H": { "nextFieldId": 28, "caption": "exButton", "captions": { }, "hidden": false, "fields": { "A": { "base": "fn", "caption": "Fonction exButton", "captions": { }, "required": false, "order": 20, "width": 1, "formWidth": 0.28125, "uuid": "rpC3gl2jkQ8cOZPZ", "globalSearch": true, "hasIndex": false, "tooltips": { }, "labelPosition": "placeholder", "fn": "((function onClick() do alert(\"je viens de cliquer sur le bouton\") end);html(eval(\"exButton\",{record:this,Badge:B,BadgeValue:I,TexteGrand:F,TexteGrandColor:V,TextePetit:G,TextePetitColor:U,Icon:H,IconColor:S,ComportementColor:D,ComportementColorHover:E,selected:text(I)})))", "height": 8, "style": "{\"backgroundColor\":null,\"fontSize\":\"1em\",\"textAlign\":\"left\",\"borderStyle\":\"none\",\"borderWidth\":\"thin\",\"borderColor\":\"#000\",\"borderSides\":\"f\"}" }, "B": { "base": "boolean", "caption": "Afficher le badge", "captions": { }, "required": false, "order": 1, "afterUpdate": "(if B then (I := 123) else (I := null))", "width": 1, "formWidth": 0.125, "uuid": "pvl1m8FSDDMN7RBk", "globalSearch": true, "hasIndex": false, "tooltips": { }, "booleanRenderer": "slide" }, "D": { "base": "color", "caption": "Couleur-background", "captions": { }, "required": false, "order": 17, "formWidth": 0.25, "uuid": "px1cMmRpyP6DtEQ8", "globalSearch": true, "hasIndex": false, "tooltips": { } }, "E": { "base": "color", "caption": "Couleur - background  hover", "captions": { }, "required": false, "order": 18, "formWidth": 0.25, "uuid": "dHYEEtAfEMYPTpSB", "globalSearch": true, "hasIndex": false, "tooltips": { } }, "F": { "base": "string", "caption": "Texte Grand", "captions": { }, "required": false, "order": 5, "width": 1, "formWidth": 0.25, "uuid": "BJPJlKmwcIjdLjeI", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "G": { "base": "string", "caption": "Texte Petit", "captions": { }, "required": false, "order": 9, "width": 1, "formWidth": 0.25, "uuid": "CP2B5XCryUArP73D", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "H": { "base": "string", "caption": "Icon", "captions": { }, "required": false, "order": 13, "width": 1, "formWidth": 0.25, "uuid": "zyuD3bDJrRp3maza", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "I": { "base": "number", "caption": "nbrBadges", "captions": { }, "required": false, "order": 2, "visibility": "B", "width": 1, "formWidth": 0.125, "uuid": "MSTseu9oRZk65cni", "globalSearch": true, "hasIndex": false, "tooltips": { }, "labelPosition": "placeholder", "numberFormat": "0" }, "S": { "base": "color", "caption": "Couleur - icon", "captions": { }, "required": false, "order": 14, "formWidth": 0.25, "uuid": "M0AXQCOx5hwgWCe7", "globalSearch": true, "hasIndex": false, "tooltips": { } }, "U": { "base": "color", "caption": "Couleur - texte petit", "captions": { }, "required": false, "order": 10, "formWidth": 0.25, "uuid": "ZrxrfwTP7mG6Koz5", "globalSearch": true, "hasIndex": false, "tooltips": { } }, "V": { "base": "color", "caption": "Couleur - texte grand", "captions": { }, "required": false, "order": 6, "formWidth": 0.25, "uuid": "u7fY7362BPf9RzJs", "globalSearch": true, "hasIndex": false, "tooltips": { } }, "A1": { "base": "fn", "caption": "exButton2", "captions": { }, "required": false, "order": 21, "width": 2, "formWidth": 0.53125, "uuid": "QLnhDAidu5lvFjMc", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "((function onClick() do alert(\"je viens de cliquer sur le bouton 2\") end);html(eval(\"exButton\",{record:this,Badge:B,BadgeValue:I,TexteGrand:F,TexteGrandColor:V,TextePetit:G,TextePetitColor:U,Icon:H,IconColor:S,ComportementColor:D,ComportementColorHover:E,selected:text(I)})))", "height": 8 } }, "uis": { "C": { "base": "br", "order": 11, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "BkOGIKgj3njUlNRK", "formWidth": 1 }, "J": { "base": "br", "order": 15, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "JWc0lkYCULJHWp0f", "formWidth": 1 }, "K": { "base": "br", "order": 3, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "sLUnNvswM709pzsI", "formWidth": 1 }, "L": { "base": "br", "order": 7, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "sxArn0AKOFhx4QZ3", "formWidth": 1 }, "N": { "base": "head", "order": 19, "caption": "PREVIEW", "captions": { }, "uuid": "ILV7JUqT1g0pzRmv", "formWidth": 1, "style": "{\"color\":\"#FFFFFF\",\"backgroundColor\":\"#5F5F5F\",\"fontSize\":\"1.5em\",\"fontStyle\":\"1\",\"textAlign\":\"center\",\"borderStyle\":\"none\",\"borderWidth\":\"thin\",\"borderColor\":\"#000\",\"borderSides\":\"f\"}" }, "O": { "base": "head", "order": 4, "caption": "TEXTE GRAND", "captions": { }, "uuid": "dL28AYk6dMjC5oRq", "width": 1, "formWidth": 0.1875, "style": "{\"color\":\"#FFFFFF\",\"backgroundColor\":\"#5F5F5F\",\"fontSize\":\"1.5em\",\"fontStyle\":\"1\",\"textAlign\":\"left\",\"borderStyle\":\"none\",\"borderWidth\":\"thin\",\"borderColor\":\"#000\",\"borderSides\":\"f\"}" }, "P": { "base": "head", "order": 8, "caption": "TEXTE PETIT", "captions": { }, "uuid": "rBYl3Jd2zxRHPMVD", "width": 1, "formWidth": 0.1875, "style": "{\"color\":\"#FFFFFF\",\"backgroundColor\":\"#5F5F5F\",\"fontSize\":\"1.5em\",\"fontStyle\":\"1\",\"textAlign\":\"left\",\"borderStyle\":\"none\",\"borderWidth\":\"thin\",\"borderColor\":\"#000\",\"borderSides\":\"f\"}" }, "Q": { "base": "head", "order": 12, "caption": "ICON", "captions": { }, "uuid": "QJZkMiSzMCidlkIr", "width": 1, "formWidth": 0.1875, "style": "{\"color\":\"#FFFFFF\",\"backgroundColor\":\"#5F5F5F\",\"fontSize\":\"1.5em\",\"fontStyle\":\"1\",\"textAlign\":\"left\",\"borderStyle\":\"none\",\"borderWidth\":\"thin\",\"borderColor\":\"#000\",\"borderSides\":\"f\"}" }, "R": { "base": "head", "order": 16, "caption": "COMPORTEMENT", "captions": { }, "uuid": "Z5QZ0fXPvESinnln", "width": 1, "formWidth": 0.1875, "style": "{\"color\":\"#FFFFFF\",\"backgroundColor\":\"#5F5F5F\",\"fontSize\":\"1.5em\",\"fontStyle\":\"1\",\"textAlign\":\"left\",\"borderStyle\":\"none\",\"borderWidth\":\"thin\",\"borderColor\":\"#000\",\"borderSides\":\"f\"}" }, "Y": { "base": "head", "order": 0, "caption": "BADGE", "captions": { }, "uuid": "shbeyAherX68uoqS", "width": 1, "formWidth": 0.1875, "style": "{\"color\":\"#FFFFFF\",\"backgroundColor\":\"#5F5F5F\",\"fontSize\":\"1.5em\",\"fontStyle\":\"1\",\"textAlign\":\"left\",\"borderStyle\":\"none\",\"borderWidth\":\"thin\",\"borderColor\":\"#000\",\"borderSides\":\"f\"}" } }, "uuid": "iXZyqbXqlMtbjAdG", "globalSearch": true, "order": 4 }, "I": { "nextFieldId": 11, "caption": "exEval", "captions": { }, "hidden": false, "fields": { "D": { "base": "string", "caption": "Question", "captions": { }, "required": false, "order": 0, "formWidth": 0.5, "uuid": "nfRbo4R0lC4cxBVz", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "E": { "base": "string", "caption": "Response", "captions": { }, "required": false, "order": 4, "formWidth": 0.5, "uuid": "BO0PCn4R7hoDsLcl", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 } }, "uis": { "C": { "base": "button", "order": 2, "caption": "Répondre", "captions": { }, "uuid": "StETfjkxAs5pNxhZ", "width": 2, "formWidth": 0.5, "fn": "(\"*******************************************************\";\"ce code utilisa la version classique de la fonction eval\";(var test := eval(\"dialog(\"\"eval classique\"\", \"\"voulez-vous tester la fonction eval étendue ?\"\", [\"\"non\"\",\"\"oui\"\"])\",this); (\"\";(if (test = \"oui\") then (\"\";\"*******************************************************\";\"ce code utlise la propriété étendue de la fonition eval\";\"le premier paramètre contien le nom de la fonction eténdue qui comme par 'ex'\";\"le second contien un objet JSON avec les paramètres de la fonction choisie\";\"ici les paramètres sont :\";\"-caption : libellé du message pormpt\";\"-defaultValue : valeur par défaut affiché dans le champ de saisie de la coit de dialogue\";\"\";\"La fonction retourne un objet JSON qui contien 2 paramètres :\";\"-ok : indique si l'utilisateur à validé la saisie\";\"-value : la valeur saisie par l'utilsateur\";\"\";(var result := eval(\"exPrompt\",{caption:(\"eval étendue : \"+D),defaultValue:E}); (if result.ok then (alert(((\"vous avez choisi le terme \"\"\"+result.value)+\"\"\" pour qualifier la fonction exPrompt\"));(E := result.value)) else (alert(\"sans opignon\");\"\")))) end))))", "buttonColor": "blue" }, "H": { "base": "br", "order": 1, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "aQTiEetbnPflHWWC", "formWidth": 1 }, "I": { "base": "br", "order": 3, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "D9nwGEhXzNBBFIBx", "formWidth": 1 } }, "uuid": "ZA2PGDvwguyKxkvc", "globalSearch": true, "order": 8 }, "J": { "nextFieldId": 7, "caption": "exButtonNavBar", "captions": { }, "hidden": false, "fields": { "C": { "base": "fn", "caption": "Formule", "captions": { }, "required": false, "order": 0, "width": 1, "formWidth": 0.375, "uuid": "kw5GaDvCqMQg2hqC", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "", "height": 1 }, "D": { "base": "string", "caption": "Id bouton", "captions": { }, "required": false, "order": 1, "formWidth": 0.5, "uuid": "TbjxfOd7uk4HJvaz", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "F": { "base": "string", "caption": "Libelle", "captions": { }, "required": false, "order": 2, "formWidth": 0.5, "uuid": "qJ8VUm7AbrcxztJB", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 } }, "uis": { "E": { "base": "button", "order": 3, "caption": "Ajouter Bouton", "captions": { }, "uuid": "bqplahYVx7H3D6Ex", "formWidth": 0.25, "fn": "(if eval(\"exButtonNavBar\",{record:this,buttonId:D,title:F}) then alert(\"Bouton ajouté\") end)", "buttonColor": "blue" } }, "uuid": "MtlyAB99TTAlLxxq", "globalSearch": true, "order": 5 }, "K": { "nextFieldId": 17, "caption": "RTR-START", "captions": { }, "hidden": false, "fields": { "A": { "base": "fn", "caption": "SPLASH SCREEN", "captions": { }, "required": false, "order": 0, "width": 4, "formWidth": 1, "uuid": "V2UIXWhNp0RxCzRm", "globalSearch": true, "hasIndex": false, "tooltips": { }, "labelPosition": "placeholder", "fn": "P", "height": 20, "style": "{\"backgroundColor\":\"#FF7F66\",\"fontSize\":\"1em\",\"textAlign\":\"left\",\"borderStyle\":\"none\",\"borderWidth\":\"thin\",\"borderColor\":\"#000\",\"borderSides\":\"f\"}", "onClick": "((if eval(\"exButtonNavBar\",{record:this,buttonId:E,title:G}) then \"alert(\"\"Bouton exButtonNavBar ajouté\"\")\" end);(let myDATA := (for i in (select L) do ((i.A+\" | \")+i._id) end); ((if eval(\"exSelectionAutocomplete\",{record:this,buttonId:F,placeholder:\"Recherche des data .....\",data:myDATA,buildCoponent:0}) then \"alert(\"\"Bouton exSelectionAutocomplete ajouté\"\")\" end);(if eval(\"exButtonNavBarTravaux\",{record:this,buttonId:H,title:J}) then \"alert(\"\"Bouton exButtonNavBarTravaux ajouté\"\")\" end);(if eval(\"exButtonNavBarActions\",{record:this,buttonId:K,title:L}) then \"alert(\"\"Bouton exButtonNavBarActions ajouté\"\")\" end);closeFullscreen();closeAllRecords();openTable(\"RTR-MAIN\",\"MAIN DASCHBOARD\"))))" }, "B": { "base": "string", "caption": "ScriptInit", "captions": { }, "required": false, "order": 1, "visibility": "(isAdminMode())", "width": 1, "formWidth": 0.28125, "uuid": "BSak5stdOMrFXRhY", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": true, "height": 4 }, "C": { "base": "fn", "caption": "Initialisation du script des fonctions étendues", "captions": { }, "required": false, "order": 2, "visibility": "(isAdminMode())", "formWidth": 0.25, "uuid": "IqFEmK2WFFTe2Hmc", "globalSearch": true, "hasIndex": false, "tooltips": { }, "fn": "html(((\"<script>\"+B)+\"</script>\"))", "height": 4 }, "E": { "base": "string", "caption": "idButtonNavBar", "captions": { }, "required": false, "order": 4, "formWidth": 0.5, "uuid": "UqnYO5HWz7HZma5O", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "F": { "base": "string", "caption": "idButtonSearchNavBar", "captions": { }, "required": false, "order": 7, "formWidth": 0.5, "uuid": "xeShXoRuuwXfwa1C", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "G": { "base": "string", "caption": "labelButtonNavBar", "captions": { }, "required": false, "order": 5, "formWidth": 0.5, "uuid": "z8XBgpD1XQRCTJDz", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "H": { "base": "string", "caption": "idButtonNavBarTravaux", "captions": { }, "required": false, "order": 9, "formWidth": 0.5, "uuid": "KAudMj1m3Gw571Ao", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "J": { "base": "string", "caption": "labelButtonNavBarTravaux", "captions": { }, "required": false, "order": 10, "formWidth": 0.5, "uuid": "TVTXjv7ntyZg0PU7", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "K": { "base": "string", "caption": "idButtonNavBarActions", "captions": { }, "required": false, "order": 12, "formWidth": 0.5, "uuid": "oM4oXia0LWInMgts", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "L": { "base": "string", "caption": "labelButtonNavBarActions", "captions": { }, "required": false, "order": 13, "formWidth": 0.5, "uuid": "zfrVNJ3cOF3xQO8L", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "P": { "base": "file", "caption": "Splash screen image", "captions": { }, "required": false, "order": 14, "formWidth": 0.5, "uuid": "vvspQ5CefCcfsoyi", "globalSearch": true, "hasIndex": false, "tooltips": { }, "height": 3, "fileHandling": "any", "bgSize": "contain" } }, "uis": { "D": { "base": "tab", "order": 3, "caption": "Parametres", "captions": { }, "uuid": "BtVuOltVZ8pnSxOd", "formWidth": 1 }, "M": { "base": "br", "order": 6, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "M3CB9VUj4pHIA2YR", "formWidth": 1 }, "N": { "base": "br", "order": 8, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "rOHhU24ZdrPnYPZ5", "formWidth": 1 }, "O": { "base": "br", "order": 11, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "i4ogaYuwXDJQfdKK", "formWidth": 1 } }, "uuid": "fSzIhk0D7qug3YBE", "globalSearch": true, "order": 9 }, "L": { "nextFieldId": 3, "caption": "RTR-DATA", "captions": { }, "hidden": false, "fields": { "A": { "base": "string", "caption": "DATA", "captions": { }, "required": false, "order": 0, "formWidth": 0.5, "uuid": "rviUYLAfpCPQHkI3", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 } }, "uis": { "B": { "base": "button", "order": 1, "caption": "Bouton", "captions": { }, "uuid": "oIsomX0Ss0nqWxrp", "formWidth": 0.25, "fn": "do as server (for i from 1 to 500 step 1 do (let i := (create L); i.(A := (text(i)+\"-DATA\"))) end) end", "buttonColor": "blue" } }, "uuid": "Vp712Cb7maraqA5z", "globalSearch": true, "order": 10 }, "M": { "nextFieldId": 3, "caption": "RTR-MAIN", "captions": { }, "hidden": false, "fields": { "A": { "base": "string", "caption": "Texte", "captions": { }, "required": false, "order": 1, "formWidth": 0.5, "uuid": "oqhOasCoqQzQkzD4", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 } }, "uis": { "B": { "base": "tab", "order": 0, "caption": "MAIN DASHBOARD", "captions": { }, "uuid": "Ww4OiZVWdHR8eaoG", "formWidth": 1, "bgColor": "#52CC74" } }, "uuid": "Fnis7ojjCJRHqLvX", "globalSearch": true, "order": 11 }, "N": { "nextFieldId": 3, "caption": "RTR-TRAVAUX", "captions": { }, "hidden": false, "fields": { "B": { "base": "string", "caption": "Travaux", "captions": { }, "required": false, "order": 1, "formWidth": 0.5, "uuid": "Bwc7r2XxFjEOOvd2", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 } }, "uis": { "A": { "base": "tab", "order": 0, "caption": "TRAVAUX DASHBOARD", "captions": { }, "uuid": "vgThXF4EfNMLCMPB", "formWidth": 1, "bgColor": "#6691FF" } }, "uuid": "hcPWNztm6YKvcfTN", "globalSearch": true, "order": 12 }, "O": { "nextFieldId": 3, "caption": "RTR-ACTIONS", "captions": { }, "hidden": false, "fields": { "B": { "base": "string", "caption": "Actions", "captions": { }, "required": false, "order": 1, "formWidth": 0.5, "uuid": "Rr8G0aVQzmGmTytn", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 } }, "uis": { "A": { "base": "tab", "order": 0, "caption": "ACTIONS DASHBOARD", "captions": { }, "uuid": "J9LHjdEcFYiAAPqc", "formWidth": 1, "bgColor": "#FFB450" } }, "uuid": "eraxQ6l7m6bGZqYT", "globalSearch": true, "order": 13 }, "P": { "nextFieldId": 4, "caption": "exComments", "captions": { }, "hidden": false, "fields": { "C": { "base": "html", "caption": "Résultat", "captions": { }, "required": false, "order": 0, "formWidth": 1, "uuid": "yESqCSWNGz9Wh0rD", "globalSearch": true, "hasIndex": false, "tooltips": { }, "height": 5 } }, "uis": { "B": { "base": "button", "order": 1, "caption": "GetComments", "captions": { }, "uuid": "cn6d1NtKHNSw6Ilv", "formWidth": 0.25, "fn": "(var t := eval(\"exGetComments\",{record:this}); (var r := \"\"; ((for i in t do (r := ((r+i)+\"<p>\")) end);(C := r))))", "buttonColor": "blue" } }, "uuid": "JxjgidF4eN50uPva", "globalSearch": true, "order": 14 }, "Q": { "nextFieldId": 11, "caption": "exSetMultiValues", "captions": { }, "hidden": false, "fields": { "C": { "base": "string", "caption": "Num : numéro ou tableau de numéro", "captions": { }, "required": false, "order": 1, "afterUpdate": "eval(\"exJavaScript\",{code:\" var field;\n    var type;\n    debugger;\n    // récupération de la table (type) et du champ (field)\n    if (args.record) {\n      type = database.schema.typeOf(args.record._id);\n      field = type.findElement(args.field);\n      if (field) {\n\t\t database.update(args.record._id,field.id,util.multiEncode(args.id), null)\n        args.record[field.id] = util.multiEncode(args.id);\n        return args.record[field.id];\n      } else\n        return (\n          'Le champ ' +\n          args.multiFiled +\n          ' esr introuvable dans la table ' +\n          type.caption\n        );\n    } else return 'Aucun enregistrement définit dans args.record. Essayez {record:this}';\",args:{record:this,field:\"Tarte\",id:C}})", "width": 2, "formWidth": 0.5, "uuid": "oLdMnyjKdkwOf5yT", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "D": { "base": "multi", "caption": "Tarte", "captions": { }, "required": false, "order": 4, "formWidth": 0.25, "uuid": "jPS6zIwmLWNYvd9I", "canWrite": "true", "globalSearch": true, "hasIndex": false, "tooltips": { }, "nextChoiceId": 7, "values": { "1": { "caption": "Pomme", "captions": { }, "order": 0 }, "2": { "caption": "Banane", "captions": { }, "order": 1 }, "3": { "caption": "Poire", "captions": { }, "order": 2 }, "4": { "caption": "Cerise", "captions": { }, "order": 3 }, "5": { "caption": "Fraise", "captions": { }, "order": 4 }, "6": { "caption": "Myrtille", "captions": { }, "order": 5 } }, "multiRenderer": "radio" }, "E": { "base": "string", "caption": "Id : numéro d'enregistrement ou tableau de numéro d'enregistrement", "captions": { }, "required": false, "order": 6, "formWidth": 0.5, "uuid": "snRIK5XbPTk6XoFj", "globalSearch": true, "hasIndex": false, "tooltips": { }, "stringAutocorrect": true, "stringMultiline": false, "height": 1 }, "F": { "base": "dmulti", "caption": "Fonctions", "captions": { }, "required": false, "order": 9, "formWidth": 0.25, "uuid": "AtqGDEfKoYZhlbVw", "globalSearch": true, "hasIndex": false, "tooltips": { }, "choiceRenderer": "radio", "dchoiceValues": "(select A)", "dchoiceCaption": "(((A+\"(\")+_id)+\")\")" } }, "uis": { "A": { "base": "tab", "order": 0, "caption": "MultiChoice", "captions": { }, "uuid": "fAY9IVESIdTPWM4q", "formWidth": 1 }, "B": { "base": "tab", "order": 5, "caption": "DynamicMultiChoice", "captions": { }, "uuid": "pKSYaGgHJQAZdU89", "formWidth": 1 }, "G": { "base": "button", "order": 2, "caption": "exSetMultiValues", "captions": { }, "uuid": "LU6qcZDZvHtJPSns", "width": 1, "formWidth": 0.15625, "fn": "(eval(\"exDebugger\",{});eval(\"exSetMultiValues\",{record:this,field:\"Tarte\",id:C}))", "buttonColor": "blue" }, "H": { "base": "button", "order": 7, "caption": "exSetMultiValues", "captions": { }, "uuid": "PlNc6VAInwQl9nJG", "width": 1, "formWidth": 0.15625, "fn": "eval(\"exSetMultiValues\",{record:this,field:\"Fonctions\",id:E})", "buttonColor": "blue" }, "I": { "base": "br", "order": 8, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "UfNGiElO593b3PVr", "formWidth": 1 }, "J": { "base": "br", "order": 3, "caption": "Renvoi à la ligne", "captions": { }, "uuid": "ucjssY5yMiNWtfr9", "formWidth": 1 } }, "uuid": "yuLqv35jKwqoGNf1", "globalSearch": true, "order": 15 }, "R": { "nextFieldId": 2, "caption": "TestSendCommand", "captions": { }, "hidden": false, "fields": { }, "uis": { "A": { "base": "button", "order": 0, "caption": "Bouton", "captions": { }, "uuid": "uY2vWsGOIRt4RJby", "formWidth": 0.25, "fn": "queryConnection(userId(),\"alert(\"\"coucou\"\")\")", "buttonColor": "blue" } }, "uuid": "VcWAPe2HFwBrrdfc", "globalSearch": true, "order": 16 } }, "afterOpen": "(if (userName() = \"Robert Traykoski\") then (let myID := record(D,7); (popupRecord(myID);\"openFullscreen(first(select Initialisation))\")) else popupRecord(first((select D))))", "globalCode": "((function maFonction() do alert(\"Je suis dans ma fonction global\") end);(function onClickButtonNavBarNinox(buttonId : text,buttonTitle : text) do alert(---le Bouton {buttonTitle} ({buttonId}) a été préssé et la foncton globale onClickButtonNavBarNinox appelée---) end);(function fxSansAccent(S : text) do ((S := replacex(S,\"Ç\",\"g\",\"C\"));(S := replacex(S,\"ç\",\"g\",\"c\"));(S := replacex(S,\"è|é|ê|ë\",\"g\",\"e\"));(S := replacex(S,\"È|É|Ê|Ë\",\"g\",\"E\"));(S := replacex(S,\"à|á|â|ã|ä|å\",\"g\",\"a\"));(S := replacex(S,\"@|À|Á|Â|Ã|Ä|Å\",\"g\",\"A\"));(S := replacex(S,\"ì|í|î|ï\",\"g\",\"i\"));(S := replacex(S,\"Ì|Í|Î|Ï\",\"g\",\"I\"));(S := replacex(S,\"ð|ò|ó|ô|õ|ö\",\"g\",\"o\"));(S := replacex(S,\"Ò|Ó|Ô|Õ|Ö\",\"g\",\"O\"));(S := replacex(S,\"ù|ú|û|ü\",\"g\",\"u\"));(S := replacex(S,\"Ù|Ú|Û|Ü\",\"g\",\"U\"));(S := replacex(S,\"ý|ÿ\",\"g\",\"y\"));(S := replacex(S,\"Ý\",\"g\",\"Y\"));S) end);(function onClickButtonNavBarNinox(buttonId : text,buttonTitle : text) do (closeAllRecords();openTable(\"RTR-MAIN\",\"MAIN DASHBOARD\")) end);(function onClickButtonNavBarNinoxTravaux(buttonId : text,buttonTitle : text) do (closeAllRecords();openTable(\"RTR-TRAVAUX\",\"TRAVAUX DASHBOARD\")) end);(function onClickButtonNavBarNinoxActions(buttonId : text,buttonTitle : text) do (closeAllRecords();openTable(\"RTR-ACTIONS\",\"ACTIONS DASHBOARD\")) end);(function onSelectCustomerNinoxNavBar(buttonId : text,idCustomer : text) do (closeAllRecords();openRecord(record(L,number(idCustomer)),\"FORM\")) end))" }, "user": { "id": "7zBqhAKXxfQAPmH7Y", "email": "jacques.tur@neuf.fr", "name": "Jacques TUR", "firstName": "Jacques", "lastName": "Tur", "roles": { "admin": true }, "host": "dbde0033.ninox.com" }, "settings": { "name": "Fonctions étendues", "icon": "bulb", "color": "#FF7F66", "bgType": null, "backgroundClass": "" } }